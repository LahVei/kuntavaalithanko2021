<!DOCTYPE html>
<html lang="fi">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="kuntavaalit">
    <meta name="author" content="Veikko">

    <title>Kuntavaalit Hanko 2021</title>
    <!-- w3schools icon -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


    <!-- CSS -->
    <link href="style.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/shop-homepage.css" rel="stylesheet">

    <!-- CSS googlefont-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">

    <!--  google font h5 -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet">

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">

        <img src="kuvat/logo.jpg" width=30 height=30 alt="talvimaisema">
        <a class="navbar-brand" href="#">Kuntavaalit Hanko 2021</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Etusivu

                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="ehdokkaat.html">Ehdokkaat</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="chat.html">Vaalikone</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#">Vaalipaneeli<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="yhteys.html">Ota yhteyttä</a>
                </li>

            </ul>
        </div>

    </nav>
    <div class="container">
        <img class="palkki" src="kuvat/testaa.jpg" alt="Hanko">

        <!-- Page Content -->

        <div class="row vaalikoneteesit">
            <div class="col-lg-8">Vaalikone näyttää, millaisia arvoja ehdokkaat edustavat.
            </div>
            <div class="col-lg-4">
            </div>
        </div>

        <div class="row vaalikoneteesit">

            <div class="col-lg-8"><img class="oikeinicon" src="kuvat/oikeinuusi.png" alt="oikein">
                Onko ehdokkaasi innokas hakemaan tietoa uusista eteen tulevista asioista sekä etsimään ongelmaan oikeaa ratkaisua kuntalaisten eduksi?
            </div>
            <div class="col-lg-2">
            </div>
            <div class="col-lg-2">
            </div>
        </div>
        <div class="row vaalikoneteesit">

            <div class="col-lg-8 onko"><img class="oikeinicon" src="kuvat/oikeinuusi.png" alt="oikein">
                Onko ehdokkaasi valmis käyttämään vapaa-aikaansa selvitellessään yhteisiä kuntalaisia koskevia asioita ja tutustuuko hän mielellään uusiin ihmisiin?
            </div>
            <div class="col-lg-2">
            </div>
            <div class="col-lg-2">
            </div>
        </div>

        <div class="row vaalikoneteesit">

            <div class="col-lg-8 onko"><img class="oikeinicon" src="kuvat/oikeinuusi.png" alt="oikein">
                Onko ehdokkaasi ennakkoluuloton ja halukas tekemään yhteistyötä yli puoluerajojen?
            </div>
            <div class="col-lg-2">
            </div>
            <div class="col-lg-2">
            </div>
        </div>

        <div class="row">

            <div class="col-lg-12">
                <img id="vaalikyna" src="kuvat/vaalilippuKuntavaalit.jpg" alt="vaalilippu">
            </div>

        </div>
        <!--    uusi   -->


        <!--    uusi   -->

        <div class="row vaalikoneteesit">
            <div class="col-lg-12" id="alku">
                <h6> Vastaamalla lomakkeen 1-11 väittämään, löydät niiden perusteella sinua lähinnä samaaa mieltä olevan ehdokkaan. </h6>
            </div>
        </div>

        <!--                        EHDOKAS                    -->

        <div class="row" id="ehdokas1000">
            <div class="col-lg-12">
                <div class="parent ehdokasyla">
                    <div class="ehdokaskuvat" id="kuva1000"></div>
                    <div class="kuva2">
                        <div class="ehdokasnumero" id="numero1000"></div>
                    </div>
                    <div class="nimet" id="nimi1000"></div>
                    <div class="tahdet"><span id="tahdet1000"></span><span id="tahdet1001"></span><span id="tahdet1002"></span><span id="tahdet1003"></span><span id="tahdet1004"></span></div>
                </div>
            </div>
        </div>


        <div class="row">
            <div class="col-lg-12">

                <form name="lomake" id="kysely" onsubmit="return false">

                    <!-- radio buttons -->

                    <div class="mielipide">1. Kouluissa pitää olla vähintään kerran viikossa kasvisruokapäivä.</div>
                    <label class="valinta"> <input type="radio" name="kys1" value="1"><span id="k1"> Täysin eri mieltä</span></label>
                    <br>
                    <label class="valinta">
                        <input type="radio" name="kys1" value="2"> <span id="k2"> Jokseenkin eri mieltä
                        </span></label><br>

                    <label class="valinta">
                        <input type="radio" name="kys1" value="0"><span id="k3"> Ohita kysymys
                        </span> </label><br>

                    <label class="valinta">

                        <input name="kys1" type="radio" value="3"><span id="k4"> Jokseenkin samaa mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys1" value="4"><span id="k5"> Täysin samaa mieltä
                        </span> </label><br>


                    <div class="mielipide">2. Kuntalaiset eivät saa säilyttää omalla pihallaan venettään.</div>
                    <label class="valinta">
                        <input type="radio" name="kys2" value="1"><span id="k6"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys2" value="2"><span id="k7"> Jokseenkin eri mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys2" value="0"><span id="k8"> Ohita kysymys
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys2" value="3"><span id="k9"> Jokseenkin samaa mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys2" value="4"><span id="k10"> Täysin samaa mieltä
                        </span> </label><br>

                    <div class="mielipide">3. Kun kunnan menoja ja tuloja tasapainotetaan, se on tehtävä mieluummin menoja karsimalla kuin veroja kiristämällä.</div>

                    <label class="valinta">
                        <input type="radio" name="kys3" value="1"><span id="k11"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys3" value="2"><span id="k12"> Jokseenkin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys3" value="0"><span id="k13"> Ohita kysymys
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys3" value="3"><span id="k14"> Jokseenkin samaa mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys3" value="4"><span id="k15"> Täysin samaa mieltä
                        </span> </label><br>


                    <div class="mielipide">4. Myös Appelgrenintien ylikäytävälle tulee viipymättä rakennuttaa silta huolimatta sen kaupungille tuottamista kustannuksista.</div>

                    <label class="valinta">
                        <input type="radio" name="kys4" value="1"><span id="k16"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys4" value="2"><span id="k17"> Jokseenkin eri mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys4" value="0"><span id="k18"> Ohita kysymys
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys4" value="3"><span id="k19"> Jokseenkin samaa mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys4" value="4"><span id="k20"> Täysin samaa mieltä
                        </span> </label><br>

                    <div class="mielipide">5. Kuntani kannattaa tukea teatteria ym. vastaavaa toimintaa, sillä ne lisäävät kaupungin vetovoimaa enemmän kuin kustannuksia</div>

                    <label class="valinta">
                        <input type="radio" name="kys5" value="1"><span id="k21"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys5" value="2"><span id="k22"> Jokseenkin eri mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys5" value="0"><span id="k23"> Ohita kysymys
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys5" value="3"><span id="k24"> Jokseenkin samaa mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys5" value="4"><span id="k25"> Täysin samaa mieltä
                        </span> </label><br>

                    <div class="mielipide">6. Kuntani pitää antaa koulujen salit ja muut kunnalliset liikuntapaikat maksutta urheiluseurojen käyttöön kun on kyse alle 18-vuotiaiden harrastuksista.</div>

                    <label class="valinta">
                        <input type="radio" name="kys6" value="1"><span id="k26"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys6" value="2"><span id="k27"> Jokseenkin eri mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys6" value="0"><span id="k28"> Ohita kysymys
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys6" value="3"><span id="k29"> Jokseenkin samaa mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys6" value="4"><span id="k30"> Täysin samaa mieltä
                        </span> </label><br>


                    <div class="mielipide">7. Heikentyneitä vanhusten palveluita pitää vahvistaa vaikka muiden palveluiden kustannuksella.</div>

                    <label class="valinta">
                        <input type="radio" name="kys7" value="1"><span id="k31"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys7" value="2"><span id="k32"> Jokseenkin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys7" value="0"><span id="k33"> Ohita kysymys
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys7" value="3"><span id="k34"> Jokseenkin samaa mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys7" value="4"><span id="k35"> Täysin samaa mieltä
                        </span> </label><br>



                    <div class="mielipide">8. Kuntani tulee ottaa vastaan turvapaikanhakijoita.</div>

                    <label class="valinta">
                        <input type="radio" name="kys8" value="1"><span id="k36"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys8" value="2"><span id="k37"> Jokseenkin eri mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys8" value="0"><span id="k38"> Ohita kysymys
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys8" value="3"><span id="k39"> Jokseenkin samaa mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys8" value="4"><span id="k40"> Täysin samaa mieltä
                        </span> </label><br>

                    <div class="mielipide">9. Ympäristö- ja luontoarvoista voidaan joustaa, jos siten voidaan luoda työpaikkoja.</div>

                    <label class="valinta">
                        <input type="radio" name="kys9" value="1"><span id="k41"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys9" value="2"><span id="k42"> Jokseenkin eri mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys9" value="0"><span id="k43">Ohita kysymys
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys9" value="3"><span id="k44"> Jokseenkin samaa mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys9" value="4"><span id="k45"> Täysin samaa mieltä
                        </span> </label><br>

                    <div class="mielipide">10. Kuntani pitää olla hiilineutraali viimeistään vuonna 2035.</div>

                    <label class="valinta">
                        <input type="radio" name="kys10" value="1"><span id="k46"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys10" value="2"><span id="k47"> Jokseenkin eri mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys10" value="0"><span id="k48"> Ohita kysymys
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys10" value="3"><span id="k49"> Jokseenkin samaa mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys10" value="4"><span id="k50"> Täysin samaa mieltä
                        </span> </label><br>
                    <div class="mielipide">11. Poker Run tapahtuma kuuluu Hangon imagoon.</div>

                    <label class="valinta">
                        <input type="radio" name="kys11" value="1"><span id="k51"> Täysin eri mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys11" value="2"><span id="k52"> Jokseenkin eri mieltä
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys11" value="0"><span id="k53"> Ohita kysymys
                        </span> </label><br>

                    <label class="valinta">
                        <input type="radio" name="kys11" value="3"><span id="k54"> Jokseenkin samaa mieltä
                        </span> </label><br>
                    <label class="valinta">
                        <input type="radio" name="kys11" value="4"><span id="k55"> Täysin samaa mieltä
                        </span> </label><br>
                </form>
            </div>
        </div>
        <div class="row">


            <div class="col-lg-12">
                <a href="#kuva1">
                    <input type="submit" class="lahetakysely" value="Hae ehdokkaat" onclick="tarkistaEhdokas()">
                </a>
                <select id="montakohaetaan" class="montako">
                    <option value="0">1-10</option>
                    <option value="10">11-20</option>
                    <option value="20">21-30</option>
                    <option value="30">31-40</option>
                    <option value="40">41-50</option>
                    <option value="50">51-60</option>
                    <option value="60">61-70</option>
                    <option value="70">71-80</option>
                    <option value="80">81-90</option>
                </select>


            </div>
        </div>
        <div class="row">
            <div class="col-lg-4">

                <input type="reset" class="lahetakysely" value="Tyhjennä" onclick="nollaaVarit()">

            </div>
            <div class="col-lg-8">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">

                <input type="button" class="lahetakysely" value="Poista puolue" onclick="poistaPuolue()">
                <select id="puolueet">
                    <option value="KD">KD</option>
                    <option value="KES">Kes</option>
                    <option value="KOK">Kok</option>
                    <option value="PS">PS</option>
                    <option value="RKP">RKP</option>
                    <option value="SDP">SDP</option>
                    <option value="SKP">SKP</option>
                    <option value="VAS">Vas</option>
                    <option value="VIH">Vih</option>
                </select>
            </div>


        </div>
        <div class="row katkos">
            <div class="col-lg-12">

            </div>
        </div>
        <div class="row ehdokas">
            <div class="col-lg-12">
                <h5>Kuntavaaliehdokkaan tunnus</h5>

                <input type="text" id="ehdokastag" size=10 placeholder="Tunnus">
            
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 iso">Hakuja tähän mennessä:
                <div class="hakuja"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <h6>Klikkaamalla haun jälkeen alta ehdokkaan kuvaa näet myös hänen vastauksena lomakkeella punaisella värillä korostettuna.<br> Kuvan alla oleva prosenttiluku (0-100%) kertoo, kuinka lähellä mielipiteesi on ehdokkaan kanssa.</h6>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="tehoste">
                    <p>HUOM!</p>Tässä demo-ohjelmassa haun tuloksena olevat henkilöt eivät ole mukana kuntavaaliehdokkaana eivätkä edusta kuvassa näkyvää puoluetta.(Kuvalähde: Free unsplash)
                </div>
            </div>
        </div>
        <!--    *******************************************************   -->
        <!--    **********       Ranking Paikat HTML        **********   -->
        <!--    *******************************************************   -->
        <div class="row">
            <div class="col-lg-12">
                <div id="tulostusmaara">
                </div>
            </div>
        </div>
        <a href="#alku">
            <div class="row">
                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva1" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero1"></div>
                        </div>
                        <div class="nimet" id="nimi1"></div>
                        <div class="prosentit" id="prosentti1"></div>
                    </div>
                </div>

                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva2" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero2"></div>
                        </div>
                        <div class="nimet" id="nimi2"></div>
                        <div class="prosentit" id="prosentti2"></div>
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva3" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero3"></div>
                        </div>
                        <div class="nimet" id="nimi3"></div>
                        <div class="prosentit" id="prosentti3"></div>
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva4" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero4"></div>
                        </div>
                        <div class="nimet" id="nimi4"></div>
                        <div class="prosentit" id="prosentti4"></div>
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva5" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero5"></div>
                        </div>
                        <div class="nimet" id="nimi5"></div>
                        <div class="prosentit" id="prosentti5"></div>
                    </div>
                </div>
                <div class="col-lg-2">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva6" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero6"></div>
                        </div>
                        <div class="nimet" id="nimi6"></div>
                        <div class="prosentit" id="prosentti6"></div>
                    </div>
                </div>


                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva7" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero7"></div>
                        </div>
                        <div class="nimet" id="nimi7"></div>
                        <div class="prosentit" id="prosentti7"></div>
                    </div>
                </div>

                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva8" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero8"></div>
                        </div>
                        <div class="nimet" id="nimi8"></div>
                        <div class="prosentit" id="prosentti8"></div>
                    </div>
                </div>

                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva9" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero9"></div>
                        </div>
                        <div class="nimet" id="nimi9"></div>
                        <div class="prosentit" id="prosentti9"></div>
                    </div>
                </div>

                <div class="col-lg-2">
                    <div class="parent">
                        <div class="ehdokaskuvat" id="kuva10" onclick="naytaMielipiteet(this)"></div>
                        <div class="kuva2">
                            <div class="ehdokasnumero" id="numero10"></div>
                        </div>
                        <div class="nimet" id="nimi10"></div>
                        <div class="prosentit" id="prosentti10"></div>
                    </div>
                </div>
                <div class="col-lg-2">
                </div>
            </div>
        </a>
    </div>
    <!--      container    päättyy             -->
    <div class="row">
        <div class="col-lg-12">
            <footer class="py-55 bg-dark">

                <p class="m-0 text-center text-white">Copyright &copy; Veikko Lahti 2021<br>Sähköposti: <a href="mailto:fellow90@hotmail.com">email</a></p>

            </footer>
        </div>
    </div>

    <!-- jQuery 1. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!--<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>-->
    <!-- bootstrap 2. -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js">
    </script>
    <!-- Popper JS 3. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js">
    </script>
    <!--   firebase     -->
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-firestore.js"></script>


    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-analytics.js"></script>



    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyDLv_laFyHvYBjZH0iQoJz44UQahK0GBWw",
            authDomain: "chattiprojekti-c4d9b.firebaseapp.com",
            databaseURL: "https://chattiprojekti-c4d9b-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "chattiprojekti-c4d9b",
            storageBucket: "chattiprojekti-c4d9b.appspot.com",
            messagingSenderId: "954454712255",
            appId: "1:954454712255:web:b1a4c449f22c3070b54b0a",
            measurementId: "G-0SQLN34RSS"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();


        var db = firebase.firestore();


        var ranking = [];
        var vastauksetOmat = [];

        var data = [{
                "kaupunki": "Hanko",
                "nimi": "Juhani Heinonen",
                "numero": 2,
                "puolue": "KESK",
                "kuva": "<img src='kuvat/kuva1.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["2", "2", "1", "4", "2", "1", "3", "4", "4", "2", "2"]
            },
            {
                "kaupunki": "Hanko",
                "nimi": "Joel Matsson",
                "numero": 3,
                "puolue": "RKP",
                "kuva": "<img src='kuvat/kuva2.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["1", "4", "3", "1", "3", "1", "4", "2", "2", "3", "2"]
            },
            {
                "kaupunki": "Hanko",
                "nimi": "Henry Kuusiluoma",
                "numero": 12,
                "puolue": "KD",
                "kuva": "<img src='kuvat/kuva3.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["1", "2", "3", "1", "2", "3", "4", "2", "2", "2", "2"]
            },


            {
                "kaupunki": "Hanko",
                "nimi": "Karoliina Koivisto",
                "numero": 14,
                "puolue": "VAS",
                "kuva": "<img src='kuvat/kuva4.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["3", "2", "3", "1", "3", "3", "3", "1", "2", "1", "3"]
            },
            {
                "kaupunki": "Hanko",
                "nimi": "Viivi Niemi",
                "numero": 5,
                "puolue": "KOK",
                "kuva": "<img src='kuvat/kuva5.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["1", "1", "3", "3", "2", "3", "1", "4", "2", "3", "2"]
            },
            {
                "kaupunki": "Hanko",
                "nimi": "Sanna Heliövaara",
                "numero": 6,
                "puolue": "KOK",
                "kuva": "<img src='kuvat/kuva6.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["2", "1", "1", "3", "3", "2", "3", "3", "2", "3", "1"]
            },
            {
                "kaupunki": "Hanko",
                "nimi": "Harry Sandell",
                "numero": 7,
                "puolue": "VIHR",
                "kuva": "<img src='kuvat/kuva12.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["1", "2", "3", "3", "2", "2", "2", "3", "1", "3", "2"]
            },
            {
                "kaupunki": "Hanko",
                "nimi": "Juhan Lindholm",
                "numero": 8,
                "puolue": "RKP",
                "kuva": "<img src='kuvat/kuva11.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["1", "2", "3", "1", "3", "1", "2", "1", "2", "3", "2"]
            },
            {
                "kaupunki": "Hanko",
                "nimi": "Noora Männistö",
                "numero": 9,
                "puolue": "PS",
                "kuva": "<img src='kuvat/kuva8.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["1", "4", "1", "3", "3", "2", "1", "2", "3", "2", "4"]
            },
            {
                "kaupunki": "Hanko",
                "nimi": "Mari Saaristo",
                "numero": 10,
                "puolue": "SDP",
                "kuva": "<img src='kuvat/kuva9.jpg' width = '150px' height = '200px'>",
                "vastaukset": ["1", "2", "3", "1", "3", "4", "1", "2", "3", "2", "1"]
            }
        ];

        /****************************************/

        laskeMaara();

        /****************************************/

        function tyhjaa() {

            for (var i = 1; i < 11; i++) {
                $("#kuva" + i).empty();
                $("#numero" + i).empty();
                $("#prosentti" + i).empty();
                $("#nimi" + i).empty();
                document.getElementById("numero" + i).style.backgroundColor = "white";
            }
            //document.getElementById("tulostusmaara").style.display = "none";

        }


        /*   ***  Ehdokkaan mielipiteenn näyttö kuva ylös   ***   */

        function naytaMielipiteet(ehdokkaan) {
            //alert("kuva1000 none");
            poistaKuva();
            poistaRadioVarit();
            var apu = ehdokkaan.id;
            //alert(apu);
            var pituus = apu.length;
            var sijoitus = apu.substring(4, pituus);
            var b = parseInt(sijoitus);
            b--;
            //alert("sijoitus ranking taulukossa " + b);
            var tarkasteltavaEhdokas = ranking[b];

            //alert(tarkasteltavaEhdokas.nimi);
            //json []
            var ehdokkaanVastaukset = tarkasteltavaEhdokas.vastaukset;
            var mielipide;
            //alert("mielipide 1 " + ehdokkaanVastaukset[0]);

            for (var i = 0; i < ehdokkaanVastaukset.length; i++) {
                mielipide = 0;
                if (ehdokkaanVastaukset[i] == 1) {
                    mielipide = i * 5 + 1;
                }
                if (ehdokkaanVastaukset[i] == 2) {
                    mielipide = i * 5 + 2;
                }
                if (ehdokkaanVastaukset[i] == 3) {
                    mielipide = i * 5 + 4;
                }
                if (ehdokkaanVastaukset[i] == 4) {
                    mielipide = i * 5 + 5;
                }

                //alert("k" + mielipide);
                document.getElementById("k" + mielipide).style.color = "red";
            }


            //     *******************      KUVAN TULOSTUS ennen mielipiteitä      *****************
            //alert("kuva1000 initial");
            document.getElementById('ehdokas1000').style.display = 'initial';
            //document.getElementById("kuva1000").style.height = "50px";

            document.getElementById("kuva1000").innerHTML = tarkasteltavaEhdokas.kuva;
            document.getElementById("numero1000").innerHTML = tarkasteltavaEhdokas.numero;
            document.getElementById("tahdet1000").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";

            //     *******************      TÄHTIEN TULOSTUS        *****************

            var apu = parseInt(tarkasteltavaEhdokas.pisteet);

            if (apu > 79) {
                document.getElementById("tahdet1001").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";
                document.getElementById("tahdet1002").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";
                document.getElementById("tahdet1003").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";
                document.getElementById("tahdet1004").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";

            } else if (apu > 59) {
                document.getElementById("tahdet1001").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";
                document.getElementById("tahdet1002").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";
                document.getElementById("tahdet1003").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";
                document.getElementById("tahdet1004").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";

            } else if (apu > 39) {
                document.getElementById("tahdet1001").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";
                document.getElementById("tahdet1002").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";
                document.getElementById("tahdet1003").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";
                document.getElementById("tahdet1004").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";

            } else if (apu > 19) {

                document.getElementById("tahdet1001").innerHTML = "<img src='kuvat/star.jpg' width = '30px' height = '30px'>";
                document.getElementById("tahdet1002").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";
                document.getElementById("tahdet1003").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";
                document.getElementById("tahdet1004").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";

            } else {

                document.getElementById("tahdet1001").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";
                document.getElementById("tahdet1002").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";
                document.getElementById("tahdet1003").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";
                document.getElementById("tahdet1004").innerHTML = "<img src='kuvat/star22.jpg' width = '35px' height = '35px'>";

            }



            document.getElementById("numero1000").style.backgroundColor = "rgb(245, 220, 114)";
            document.getElementById("nimi1000").innerHTML = tarkasteltavaEhdokas.nimi;
        }

        function poistaKuva() {

            document.getElementById('ehdokas1000').style.display = 'none';
        }



        function tarkistaEhdokas() { //parametri reletoiminen
            // eka kutsu 

            poistaKuva();
            poistaRadioVarit();

            var taulukko = ['kys1', 'kys2', 'kys3', 'kys4', 'kys5', 'kys6', 'kys7', 'kys8', 'kys9', 'kys10', 'kys11'];

            // Käyttäjän valikoimat

            for (var i = 0; i < taulukko.length; i++) {
                var onValittu = 0;
                var tarkista = document.getElementsByName(taulukko[i]);
                for (var j = 0; j < tarkista.length; j++) {
                    if (tarkista[j].checked) {
                        //alert(tarkista[j].value);
                        vastauksetOmat[i] = tarkista[j].value;
                        onValittu = 1;
                    }

                    if (onValittu == 0 && j == tarkista.length - 1) {
                        // ei valintaa = 9
                        vastauksetOmat[i] = 9;
                        //alert("9");
                    }
                    if (j == tarkista.length - 1) {
                        onValittu = 0;
                    }
                }
            }


            //document.getElementById("vastaus").innerHTML = vastauksetOmat;

            vertaile(vastauksetOmat);
        }

        function nollaaVarit() {
            //alert("test 1");

            poistaRadiot();
            for (var i = 1; i < 56; i++) {
                document.getElementById("k" + i).style.color = "black";
            }
            poistaKuva();
            //alert("test 2");

        }

        function poistaRadiot() {
            $('input:checked').removeAttr('checked');
            $('input[type="radio"]').prop('checked', false);
        }

        function poistaRadioVarit() {
            for (var i = 1; i < 56; i++) {
                document.getElementById("k" + i).style.color = "black";
            }
        }


        function vertaile(vastauksetOmat) {
            //alert(vastauksetOmat);

            var tulos = 0;
            var numero = [];
            //var ranking = [];
            var lkm = vastauksetOmat.length;
            console.log(data);

            for (var i = 0; i < vastauksetOmat.length; i++) {
                if (vastauksetOmat[i] == 9 || vastauksetOmat[i] == 0) {
                    lkm--;
                }
            }

            if (lkm > 0) {
                for (var i = 0; i < data.length; i++) {
                    for (var j = 0; j < vastauksetOmat.length; j++) {
                        if (vastauksetOmat[j] == 9 || vastauksetOmat[j] == 0) {
                            continue;
                        }
                        tulos += Math.abs(vastauksetOmat[j] - data[i].vastaukset[j]);

                    }
                    data[i].pisteet = 1 - tulos / (lkm * 3);
                    data[i].pisteet = Math.round(data[i].pisteet * 100);
                    //uuteen ranking taulukkoon koko JSON objekti
                    ranking[i] = data[i];
                    tulos = 0;
                }
            }
            teeRanking(ranking, "ei");
        }

        /**********************************************
        
        <img src="" alt="kuva" height="100" width="100" id="vaihtuvaKuva">
        document.getElementById("vaihtuvaKuva").src = kuvat[i];
        
        
        ***********************************************/

        function teeRanking(ranking, poisto) {

            if (poisto != "ei") {
                var ii = 0;
                while (ii < ranking.length) {
                    if (ranking[ii].puolue == poisto) {
                        //alert(ranking[ii].nimi + " poistetaan " + ii);
                        // Huom! päivittää heti listan
                        ranking.splice(ii, 1);
                        //alert("pituus " + ranking.length);
                    } else {
                        ii++;
                    }
                }
                tyhjaa();
            }

            for (var i = 0; i < ranking.length - 1; i++) {
                for (var j = 1 + i; j < ranking.length; j++) {
                    if (ranking[j].pisteet > ranking[i].pisteet) {
                        var apu = ranking[i];
                        ranking[i] = ranking[j];
                        ranking[j] = apu;
                    }
                }
            }
            tulostaRanking();
        }

        /*   *******  Tulostus   *******   */


        function tulostaRanking() {
            tyhjaa();

            //alert("pituus " + ranking.length);
            var aloitus = parseInt(montakohaetaan.value);
            //alert("1 aloitus " + aloitus);
            var viimeinen = aloitus + 9;
            var naytto = "Näytetään kuntavaaliehdokkaat paremmuusjärjestyksessä " + (aloitus + 1) + " - " + (viimeinen + 1);
            //alert(aloitus + " " + viimeinen);
            var apu = aloitus;

            document.getElementById("tulostusmaara").innerHTML = naytto;
            for (var i = 1; i < 11; i++) {
                if (apu > ranking.length) {
                    i = 11;
                }
                document.getElementById("kuva" + i).innerHTML = ranking[apu].kuva;
                document.getElementById("numero" + i).innerHTML = ranking[apu].numero;
                //alert("kuvien näyttö 2");
                document.getElementById("numero" + i).style.backgroundColor = "rgb(245, 220, 114)";
                document.getElementById("nimi" + i).innerHTML = ranking[apu].nimi + "<br>" + ranking[apu].puolue;
                document.getElementById("prosentti" + i).innerHTML = ranking[apu].pisteet + "%";
                apu++;

            }
            laheta();
        }
        /*   *******   FIREBASE DATABASE   *******          */

        function laheta() {
//alert("tänne");
            var tunnus = "ei nimea";
 
            var d = new Date();
            var dd = d.getDate()
            var mm = d.getMonth() + 1; //January == 0!
            var yyyy = d.getFullYear();
            var time = d.toLocaleTimeString();
            if (dd < 10) {
                dd = '0' + dd
            } // alkunolla jos < 10
            if (mm < 10) {
                mm = '0' + mm
            }
            d = dd + '/' + mm + '/' + yyyy;
            var lista = [];
            for (var i = 0; i < 10; i++) {
                lista.push(ranking[i].numero);
            }

            db.collection("ehdokasyksi") //db.collection("mode") 
                .add({
                     
                    henkilo: tunnus,
                    vastaukset: vastauksetOmat, //ranking:lista,
                    ranking: lista,
                    pvam: d,
                    aika: time,
                })
                .then(function(docRef) {
                    console.log("Document written with ID: ", docRef.id);
                    //location.reload(); // päivittää sivun
                })
                .catch(function(error) {
                    console.error("Error adding document: ", error);
                });

            laskeMaara();

        }

        function ehdokasVastaus() {
            var taulukko = ['kys1', 'kys2', 'kys3', 'kys4', 'kys5', 'kys6', 'kys7', 'kys8', 'kys9', 'kys10', 'kys11'];
                //alert("tyhjää");
             
            location.reload();
            tyhjaa();

            for (var i = 0; i < taulukko.length; i++) {
                var onValittu = 0;
                var tarkista = document.getElementsByName(taulukko[i]);
                for (var j = 0; j < tarkista.length; j++) {
                    if (tarkista[j].checked) {
                        //alert(tarkista[j].value);
                        vastauksetOmat[i] = tarkista[j].value;
                        onValittu = 1;
                    }

                    if (onValittu == 0 && j == tarkista.length - 1) {
                        // ei valintaa = 9
                        vastauksetOmat[i] = 9;
                        //alert("9");
                    }
                    if (j == tarkista.length - 1) {
                        onValittu = 0;
                    }
                }
            }
            var tunnus = document.getElementById("ehdokastag").value;
        
            //document.getElementById("ehdokastag").innerHTML = "";
            var henkilo = "lisää minut sivulle";
            var d = new Date();
            var dd = d.getDate()
            var mm = d.getMonth() + 1; //January == 0!
            var yyyy = d.getFullYear();
            var time = d.toLocaleTimeString();
            if (dd < 10) {
                dd = '0' + dd
            } // alkunolla jos < 10
            if (mm < 10) {
                mm = '0' + mm
            }
            d = dd + '/' + mm + '/' + yyyy;


            db.collection("ehdokkaat") //db.collection("mode") 
                .add({
                    nimi: tunnus,
                    vastaukset: vastauksetOmat, //ranking:lista,
                    pvam: d,
                    aika: time,
                })
                .then(function(docRef) {
                    console.log("Document written with ID: ", docRef.id);
                    //location.reload(); // päivittää sivun
                })
                .catch(function(error) {
                    console.error("Error adding document: ", error);
                });

        }

        function poistaPuolue() {


            // Mikä rivi valintalistasta oli valittuna
            var valittu = document.getElementById("puolueet").selectedIndex;
            // Valintalistasta valitun rivin arvo
            var puolue = document.getElementById("puolueet").options[valittu].value;
            teeRanking(ranking, puolue);

        }

        /*    *******   Laskuri    *******    */

        function laskeMaara() {

            var laskuri = 71;
            db.collection("ehdokasyksi")
                .get()
                .then(function(querySnapshot) {
                    querySnapshot.forEach(function(doc) {
                        var id = doc.id;
                        console.log(doc.id, " => ", doc.data());
                        laskuri++;
                        //alert(doc.data().maara);

                    });

                    $(".hakuja").empty();
                    $(".hakuja").append(laskuri + " kpl");
                });

        }
    </script>

</body></html>
